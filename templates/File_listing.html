{% extends "layout.html" %}

{% block additional_js %}
<link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.15.5/dist/bootstrap-table.min.css">

{% endblock additional_js %}

{% block content %}
<div class="bd-example">

    <div class="input-group">

    <table class="table table-striped table-hover table-sm  data-sort-class" id = "File_listing">
      <thead>
        <tr class ="thead-dark">
          {% for File_listing_header in File_listing_headers %}
            <th  scope="col" id ="{{File_listing_header }}" value="{{File_listing_header}}" >
                {{ File_listing_header }}
<!--                <i class="fa fa-sort" style="font-size:13px;"></i>-->
            </th>
          {% endfor %}
        </tr>
      </thead>
      <tbody id="File_listing_table_body">
        {% for File_listing_row in File_listing_items %}
            <tr>
                {% for File_listing_header in File_listing_headers %}
                    <td scope="row">{{ File_listing_row.__dict__.get(File_listing_header)}}</td>
                {% endfor %}
            </tr>
        {% endfor %}
      </tbody>

    </table>
</div>
{% endblock content %}
{% block add_on_js %}
o

<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>


<script>
    $("#File_listing").DataTable(


    );
</script>
<script>
    $(document).ready(function(){
          $("#search_text").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            var header_value = $("#header_selector").val();
            $("#Smart_listing_table_body tr").filter(function() {
                if($("#header_selector").val() ==  "Search All field" ){
                     $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);

                }
                else {
                        var i ,tr , header_index
                        header_index = $( "#" + $("#header_selector").val()).index()
                        tr = $("tr")
                        for (i = 0; i < tr.length; i++) {
                        td = tr[i].getElementsByTagName("td")[header_index];
                        if (td) {
                          txtValue = td.textContent || td.innerText;
                          if (txtValue.toLowerCase().indexOf(value) > -1) {
                            tr[i].style.display = "";
                          } else {
                            tr[i].style.display = "none";
                          }
                        }
                       }
                   }
                });
          });
        });

</script>


{% endblock add_on_js %}